# JSON2Server

> **JSON 문법으로 간단한 웹 프레임워크 만들기**
>
> 그동안 짜 온 서버 코드 자동화


## 예제
### 예제 1
```cmd
cd example\ex1
tsc -d; node app
```


## 만들계 된 계기

마크다운을 바꾸기에는 문법 규칙 같은게 많으니 

YAML이 상위호환이니까 이것도 될 듯

정적 파일을 호스팅하는 것, 동적 파일을 호스팅하는 것, 데이터배이스를 관리하는 것. 

좋은 툴들이 많이 나와 있으나,

그동안 내가 노가다로 만든 듯함.

2년동안의 삽질을 버튼 한 방으로 끝내는 firebase의 간단함(?)이 인상적.

뭔가 별거 없다는 것을 느꼈다.

노다다라고 인식하지 않으면 재밌음

## 과정

### 04.25
- 호스팅 기능 완성
`npm i --save-dev @types/node`: 개발자용으로 설치한다는 뜻.
`tsc -d`하면 d.ts 파일이 같이 생긴다

## 05.03
- db 재구조(?)화

## ~05.18
- db 반영함.

### todo:

#### 당장
- `SELETE` sql문 반영
- 서버와 연동
- 큰 데이터 받을때 현제 구조는 무리가 있음. 
- 권한확인 -> 이거 모듈 따로 분리해야함. 가칭  `auth`모듈
- php같은 정적 웹 페이지 생성을 하지 못한다는 단점이 있어


#### 나중
- 303 리다이렉트 기능
- 데이터베이스 설정 기능
- 로그인 모듈
- 모든 요청에 쿠키 설정 기능
    - auth 관련 정리해야 함.
- path모듈 db반영하도록 업뎃해야함
- cref 관련
- qos 설정
    - 1요청당 길이제한
    - 1인당 요청제한
- 

### __Allow option setting

- Username 이 옳을 경우만 호출하듯,
- __allow 옵션에 use_username  옵션 달아서 관리하도록. 권한 있는 특정 유저만 값에 접근. 이때, username field 필요하며, 최초 실행시 및 setup()에서 이를 검사해야함
- DB에 강제로 생성할 것. 로그인/인증 모듈 강제
- 어케 설계하냐
- 익명 인증/이메일 인증/소셜 인증
- 유저명, 비번(hashed), 소셜 로그인 여부, 
- 옵션 추가하기, 성별, 주소,전화번호
- 유저명 - 쿠키 table 필요
- Hash(비번): 로그인용
- Hash (비번+1) 압축용
- 입력 옵션 길이 제한 필요함
- 어디에 생성할 것인가
- 1순위: user이라는 테이블이 있는 db에 덮어 씌움
- 2순위: 그냥생성 - sqlite로 로컬로
- 무조건! Allows 옵션은 admin으로 하며, http 접근 불가하게 함
- 또한 이 .sqlite파일의 https 접근을 막아야함.


## 참고
- 사진: [무료 이미지 사이트](https://pixabay.com)